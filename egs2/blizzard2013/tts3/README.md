## model: emocontrl_tts

## train command
.run.sh --dump /home/... --train_set --valid_set --test_sets

./run.sh --preprocess_dir /home/Data/blizzard2013_part_preprocess  --stage 6 --stop_stage 6 --feats_type fbank
./run.sh  --stage 6 --stop_stage 6 --feats_type fbank

batch_num = 500
train_time/batch = 1s
train_time/epoch = 1 * 500s = 8.3min


## evaluate command
1. evaluate directly
   
2. evaluate in real time

3. evaluate with provided pre-trained model in model_zoo

source ../tools/venv/bin/activate espnet
python syns.py  (real time)
python syns2.py (directly)


# 

## cut_data.sh

cat utt2spk | grep charlotte_bronte_CB > utt2spk_part
cat text | grep charlotte_bronte_CB > text_part
cat wav.scp | grep charlotte_bronte_CB > wav_part.scp
cat utt2num_frames | grep charlotte_bronte_CB > utt2num_frames_part
cat feats.scp | grep charlotte_bronte_CB > feats_part.scp
cat spk2utt | grep charlotte_bronte_CB > spk2utt_part


# start env

source ../../../../tools/venv/bin/activate espnet


# reproduce problem
lstm = ZoneOutCell(lstm, zoneout_rate)

tensor([[-5.3665e-01, -8.4638e-02, -8.8770e-04,  ...,  5.0022e-03,
         -1.4376e-04,  2.2925e-01]])
<class 'list'>: [tensor([[[-2.4362],
         [-2.5695],
         [-2.7938],
         [-2.8339],
         [-2.8247],
         [-2.8624],
         [-2.9285],
         [-3.0986],
         ...
         [-3.4739],
         [-3.5847],
         [-3.6437],
         [-3.6421],
         [-3.6324],
         [-3.6354],
         [-3.6344],
         [-3.6071],
         [-3.6672],
         [-3.7203],
         [-3.7592],
         [-3.8140],
         [-3.8392],
         [-3.8369],
         [-3.8716],
         [-3.8509],
         [-3.9126],
         [-3.8793]]])]


tensor([[-5.2590e-01, -6.7950e-02, -7.2251e-04,  ...,  5.0022e-03,
         -1.4376e-04,  2.2925e-01]])
<class 'list'>: [tensor([[[-2.4497],
         [-2.6085],
         [-2.8257],
         [-2.8705],
         [-2.8821],
         [-2.9275],
         [-2.9811],
         [-3.1461],
         [-3.3096],
...
         [-3.8409],
         [-3.8775],
         [-3.8537],
         [-3.9096],
         [-3.8779]]])]
         
         tensor([[-4.5478e-04,  3.2444e-05, -1.6777e-03,  1.0674e-04,  1.1575e-02,
         -2.5786e-03,  6.9403e-02, -9.8431e-04,  7.0056e-04,  1.7427e-04,
         -4.6614e-04, -6.8297e-04,  1.2897e-04,  1.4654e-04,  1.9960e-03,
          5.6667e-05, -9.6327e-04, -1.1309e-02, -2.5817e-04,  4.9436e-04,
          5.5975e-04,  3.0875e-02,  7.4483e-04, -3.0822e-06,  5.0022e-03,
         -1.4376e-04,  2.2925e-01]])
         
         tensor([[-4.5478e-04,  3.2444e-05, -1.6777e-03,  1.0674e-04,  1.1575e-02,
         -2.5786e-03,  6.9403e-02, -9.8431e-04,  7.0056e-04,  1.7427e-04,
         -4.6614e-04, -6.8297e-04,  1.2897e-04,  1.4654e-04,  1.9960e-03,
          5.6667e-05, -9.6327e-04, -1.1309e-02, -2.5817e-04,  4.9436e-04,
          1.1666e-02,  9.7414e-04,  1.1677e-03,  2.9328e-03, -6.5027e-01,
          5.8904e-05,  7.4731e-03, -1.9957e-03,  1.1512e-03,  1.2153e-04,
          4.5851e-02,  7.5342e-03,  1.7862e-03,  3.7160e-02,  8.4885e-03,
          7.5372e-04,  9.8850e-05,  1.4765e-03, -1.2796e-02,  2.2551e-01,
          2.1996e-02,  4.2396e-03,  1.4366e-05,  3.5908e-04,  2.0831e-03,
         -2.5843e-05,  1.7344e-02,  1.5538e-03,  1.3870e-03, -2.7438e-04,
         -7.3614e-01, -2.8017e-05, -3.9059e-04,  1.2572e-02,  1.2222e-02,
         -7.8732e-02,  1.7930e-03, -4.5472e-02,  2.6078e-02, -9.5970e-02,
         -1.7578e-01, -1.6913e-03,  2.1048e-03,  3.9608e-04,  8.4061e-03,
          4.6589e-04,  2.3655e-02, -3.7990e-03, -3.0272e-03, -1.3126e-02,
         -8.7528e-04, -1.6117e-04, -1.0361e-03,  1.3711e-02,  4.4995e-04,
          1.4832e-04, -2.1336e-02, -6.1612e-04, -5.5094e-03,  7.2278e-03,
          2.4662e-04,  3.2141e-04,  3.5339e-03,  4.0230e-02,  1.2043e-02,
          2.6498e-04, -5.2140e-03, -7.5335e-01, -8.5957e-04, -2.4573e-04,
          1.8831e-02,  5.2763e-05, -3.0895e-03,  3.9713e-02, -6.8679e-05,
         -9.2673e-04,  7.2395e-01,  1.2184e-02,  7.8742e-03, -1.2473e-03,
         -1.7205e-02,  1.9957e-03,  4.8361e-04, -1.8791e-02,  1.3914e-02,
          3.4052e-04,  2.3490e-03,  2.8436e-04,  1.3377e-02, -8.8977e-05,
         -7.3685e-05,  1.3404e-03, -1.5895e-03, -2.1197e-03, -1.5520e-02,
         -2.9685e-04, -1.6578e-02,  1.9240e-03,  9.0649e-03,  8.4689e-06,
         -1.1317e-03,  3.6700e-02, -8.3983e-05, -8.9890e-05,  3.1226e-04,
          6.4685e-03,  1.9185e-05, -1.6644e-04, -6.9158e-04, -2.7147e-04,
          3.1209e-03, -1.9249e-03, -7.3882e-04,  1.8973e-05, -2.1533e-04,
          1.5817e-02, -7.9568e-04,  5.9042e-04,  9.7045e-04, -2.6709e-04,
          5.5091e-03, -8.7238e-05,  2.0092e-03,  6.8835e-03,  1.7793e-04,
         -2.9048e-02, -9.0231e-03, -1.4676e-02, -2.1285e-05,  2.1106e-03,
          1.9451e-05, -5.4718e-04, -1.1110e-02,  1.5179e-03, -4.3382e-03,
          2.9099e-01, -6.4314e-04,  8.8611e-03, -1.0810e-03, -8.1836e-04,
         -8.5801e-05, -3.9244e-05,  7.3663e-01, -2.5124e-06,  1.5486e-02,
         -3.8425e-04, -2.7876e-06,  5.3228e-05,  2.1064e-02, -6.5719e-04,
          4.6099e-05, -9.2132e-03, -1.9989e-03, -5.9134e-05,  2.8412e-01,
          1.6339e-02,  6.0433e-06,  7.2005e-06, -7.9945e-02,  6.4941e-05,
          3.9103e-04,  1.2082e-04,  8.1841e-03, -1.0705e-02,  4.4603e-03,
         -1.0256e-03, -1.8632e-03,  3.1813e-04,  6.9653e-04,  6.4901e-01,
          3.1936e-03,  1.9052e-04,  6.9090e-04,  3.2166e-04, -8.1809e-04,
          1.4268e-03,  1.6946e-01,  1.1845e-01,  5.3994e-02, -5.6188e-05,
          2.8815e-03, -1.0992e-03, -1.8480e-03, -1.4872e-03, -4.3242e-03,
          1.7122e-03,  2.5401e-03, -2.7060e-03,  1.4011e-02,  1.5913e-02,
          2.6473e-02, -7.5227e-05,  7.8815e-03,  6.6124e-02,  2.8199e-02,
         -9.3506e-04,  1.9546e-03,  7.2515e-01, -1.9214e-01, -1.1210e-04,
          7.4764e-01, -3.7325e-05,  7.5194e-05, -7.3347e-01, -2.0747e-04,
         -1.7212e-04, -2.8252e-05, -2.6962e-04, -4.9209e-04,  1.8254e-04,
          1.2128e-03,  3.5102e-03,  1.1555e-02, -4.2234e-03, -1.1562e-03,
          6.5794e-03, -1.2173e-02,  1.6331e-04, -2.2968e-03, -1.6002e-03,
         -1.4538e-01, -1.4406e-06, -7.1941e-01,  7.7823e-04, -8.4989e-02,
          5.3805e-01,  1.0599e-02, -4.9124e-06,  1.7588e-03, -5.1641e-04,
         -2.3973e-03,  2.4328e-04,  5.0722e-01,  1.6499e-01, -3.2380e-01,
         -8.9811e-04,  1.4577e-04, -4.8636e-05,  2.7274e-03,  2.4503e-03,
          9.1361e-04,  9.6531e-01,  9.8860e-05,  7.5228e-03,  1.1048e-03,
         -1.5036e-04, -1.1818e-01,  1.6339e-04,  4.4597e-03, -1.0307e-03,
         -1.2601e-03, -2.7363e-01,  8.9256e-02, -1.5138e-03, -2.0196e-01,
          1.6773e-03,  3.1828e-04, -5.6157e-02, -5.5538e-04,  3.2597e-05,
         -4.6290e-04, -5.3127e-07, -2.3765e-04, -3.9579e-03,  4.0617e-01,
          1.6006e-05, -3.1824e-05,  1.8357e-04, -3.4204e-03,  1.8524e-01,
          3.4236e-04, -1.2522e-03,  1.0723e-02,  3.0745e-04, -2.9372e-03,
          5.6043e-04, -1.4938e-01, -7.1782e-03,  3.9264e-02, -1.2834e-04,
         -4.4351e-03, -6.0582e-03,  1.4576e-02,  8.8755e-03, -6.1723e-03,
         -4.0023e-05,  8.9965e-01, -1.3473e-03,  8.3442e-05,  9.9984e-01,
         -9.5004e-04,  6.1026e-04,  4.1670e-01,  5.1184e-04, -4.8085e-04,
          1.7496e-03,  9.9968e-01,  2.2560e-03,  6.5421e-03, -9.9934e-01,
          3.3162e-02,  3.7668e-03,  2.9055e-01,  2.7409e-05,  2.1020e-04,
         -1.4927e-03, -1.9571e-05,  4.0607e-06,  1.9997e-02,  7.7954e-03,
         -2.4714e-04, -4.4046e-03,  1.7117e-04,  1.7975e-04, -1.4551e-03,
          4.7478e-04, -1.0508e-01,  6.9552e-04, -8.6025e-04,  2.0122e-03,
          1.5827e-05,  1.5667e-04,  7.9577e-05,  4.8263e-04,  5.8904e-02,
          6.5134e-06,  5.4816e-03, -2.1380e-03, -1.3773e-05,  4.0359e-03,
          1.2837e-03, -7.4741e-04, -9.9530e-01, -4.8354e-07, -9.0043e-04,
         -2.2103e-04,  3.9404e-03,  2.7733e-04, -3.0730e-05, -1.4645e-05,
          3.3548e-05,  3.2834e-06, -2.3211e-03, -3.7391e-02,  5.6299e-04,
         -7.8246e-04, -2.3122e-04,  1.0247e-04,  1.5610e-03, -6.0295e-04,
          1.3644e-05, -1.7055e-03,  1.7086e-05,  7.0968e-01, -9.9953e-01,
         -2.0663e-03, -1.8865e-04,  7.3732e-04,  1.8947e-01, -1.7768e-05,
          9.1127e-06,  1.0745e-02,  1.5852e-03,  7.3200e-05,  1.4212e-02,
         -6.1634e-05,  3.0419e-03,  5.4576e-05,  8.6243e-05,  1.1090e-02,
         -5.2403e-04,  1.3957e-04, -9.3189e-05,  8.0142e-04, -8.7872e-03,
         -2.4101e-01,  3.9009e-06, -6.8327e-01,  9.9525e-01,  2.3586e-04,
         -1.3411e-02, -9.1411e-03,  1.6845e-03, -9.4779e-03,  4.8347e-03,
         -8.0704e-04,  9.9964e-01, -9.9977e-01,  1.0357e-03,  1.1821e-02,
         -2.2231e-06,  1.8785e-02, -1.2234e-02,  3.1112e-04, -8.1305e-04,
         -5.4316e-05,  7.6155e-04, -4.9649e-04,  2.9673e-04,  1.8772e-04,
         -3.2351e-03,  7.7356e-08, -2.0460e-02, -3.2144e-01,  3.5273e-03,
          2.3050e-01,  1.6297e-01, -2.2384e-04, -5.3336e-04, -3.8461e-03,
         -1.3612e-03, -2.0728e-03,  5.8091e-04,  1.0873e-01, -6.1932e-08,
          4.1970e-01,  6.6292e-05, -1.6600e-03,  3.3162e-03, -6.3201e-01,
         -6.4439e-05,  1.6379e-04,  6.3215e-06,  8.1474e-04,  6.1986e-02,
          3.1805e-05,  3.5095e-04,  1.7342e-01,  3.5156e-04, -1.2774e-02,
          7.3670e-01, -5.5625e-03,  3.6733e-05, -5.9939e-05,  1.6178e-03,
          8.2633e-03,  2.0866e-04, -6.3331e-05, -3.1669e-03,  5.9040e-05,
         -5.0423e-04,  2.3376e-03,  8.3187e-07, -9.9984e-01,  1.2849e-02,
          8.4998e-07,  3.0691e-02,  7.0791e-02, -1.1537e-04, -5.8923e-03,
         -1.1080e-04,  7.3150e-05, -4.7047e-04, -2.6355e-04,  1.1032e-04,
         -1.2892e-03, -2.1990e-02, -1.4040e-02, -5.0620e-02,  6.8877e-04,
         -1.5323e-02, -2.6392e-06,  6.1274e-04, -3.3753e-01,  3.6614e-04,
          7.1257e-06,  7.6031e-04, -9.5468e-01,  1.8408e-03,  1.9779e-02,
          3.9851e-04, -9.9332e-01, -2.2215e-04,  1.7592e-04, -6.8276e-04,
          8.3645e-05, -7.3156e-06, -3.7001e-03, -2.3819e-03,  7.5313e-02,
         -2.4994e-05, -1.1335e-03, -3.6961e-04,  1.3692e-03,  6.6034e-04,
          5.5975e-04,  3.0875e-02,  7.4483e-04, -3.0822e-06,  5.0022e-03,
         -1.4376e-04,  2.2925e-01]])
         